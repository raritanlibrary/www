@require './util/animation'
@require './util/color'
@require './util/fonts'
@require './util/misc'
@require './util/reset'
@require './util/vendor'
@require './components/access'
@require './components/alert'
@require './components/calendar'
@require './components/events'
@require './components/header'
@require './components/modal'
@require './components/footer'
@require './components/scrollbar'
@require './components/sidebar'
@require './pages/404'
@require './pages/board'
@require './pages/books'
@require './pages/history'
@require './pages/home'
@require './pages/sitemap'

html
    scroll-behavior smooth
    -ms-overflow-style none
    overflow overlay
    @media screen and (max-width 749px)
        overflow-x hidden
a
    text-decoration none
h1
    minion(84px, var(--alt), bold)
    txt-shadow()
    text-align center
    @media screen and (max-width 424px)
        minion(19.7vw, var(--alt), bold)
.h1
    &-sm
        minion(84*0.8px, var(--alt), bold)
        txt-shadow()
        text-align center
        spacer(0.7)
        @media screen and (max-width 424px)
            minion(19.7*0.8vw, var(--alt), bold)
            spacer(0.4)
h2
    minion(56px, var(--alt), bold)
    txt-shadow()
    spacer(0.25)
    text-align center
    @media screen and (max-width 424px)
        minion(13.2vw, var(--alt), bold)
        spacer(0.5)
.h2
    &-fo
        minion(84px, var(--alt), bold)
        txt-shadow()
        text-align center
        @media screen and (max-width 424px)
            minion(19.7vw, var(--alt), bold)
    &-sm
        minion(40px, var(--alt), bold)
        txt-shadow()
        spacer(0.25)
        text-align center
        @media screen and (max-width 424px)
            minion(9.4vw, var(--alt), bold)
            spacer(0.25)
h3
    minion(40px, var(--alt), bold)
    txt-shadow()
    spacer(0.25)
    text-align center
    @media screen and (max-width 424px)
        minion(9.4vw, var(--alt), bold)
        spacer(0.25)
.h3
    &-link
        display block
        minion(40px, var(--alt), bold)
        txt-shadow()
        @media screen and (max-width 424px)
            minion(9.4vw, var(--alt), bold)
            spacer(0.25)
    &-sm
        minion(28px, var(--alt), bold)
        txt-shadow()
        text-align center
        @media screen and (max-width 424px)
            minion(6.6vw, var(--alt), bold)
            spacer(0.25)
h4
    minion(28px, var(--alt), bold)
    txt-shadow()
    text-align center
    @media screen and (max-width 424px)
        minion(6.6vw, var(--alt), bold)
        spacer(0.25)
.h4
    &-link
        minion(28px, var(--alt), bold)
        txt-shadow()
        @media screen and (max-width 424px)
            minion(6.6vw, var(--alt), bold)
            spacer(0.25)
.h
    &-spacer-minus
        spacer(-1)
    &-nospacer
        spacer(0)
hr.hr
    grad-background("left, var(--alt3) 2%, var(--alt) 50%, var(--alt3) 98%")
    border 0
    margin 24px auto
    height 2px
    max-width 500px
    @media screen and (max-width 424px)
        max-width 100%
ol
    list-style none
    counter-reset olcount
    margin 12px 12px
    @media screen and (min-width 1600px)
        margin 12px m-calc // 1/6
.left
    text-align left
.inline
    display inline
.spacer
    &-plus
        spacer(1)
    &-sm
        spacer(0.4)
    &-none
        spacer(0)
.body
    display grid
    grid-template-areas "h" "m" "f"
    margin-top -65px
    @media screen and (max-width 749px)
        overflow-x hidden
.main
    background-color var(--main)
    display flex
    flex-flow row nowrap
    min-height: calc(100vh - 120px)
    grid-area m
    transition 0.2s filter ease-in-out
    @media screen and (max-width 949px)
        flex-flow column nowrap
    @media screen and (max-width 749px)
        &-darken
            filter brightness(40%)
    @media screen and (min-width 950px)
        &-darken-modal
            filter brightness(40%)
.center
    flex-grow 1
    margin 24px 24px
    text-align justify
    @media screen and (min-width 1600px)
        m-calc = calc((100vw*(1/12) - (1600px*(1/12) - 24px)))
        margin 24px m-calc // 1/6
.text
    perpetua(22px,  var(--main-text),,, 1.25)
    &-center
        text-align center
    &-bold
        perpetua(22px,  var(--main-text), bold,, 1.25)
    &-list
        counter-increment olcount
        perpetua(22px,  var(--main-text),,, 1.25)
        spacer()
        &:before
            content "(" counter(olcount) ")"
            margin-right 8px
            display inline
            minion(28px, var(--alt), bold)
            txt-shadow()
            @media screen and (max-width 424px)
                minion(6.6vw, var(--alt), bold)
.link
    color var(--link-text)
    font-weight bold
    position relative
    transition 0.4s all
    lr-underline(2px, 4px)
    &:hover, &:focus
        perpetua(22px, var(--link-text-hover), bold,, 0)
.comment
    perpetua(18px,  var(--main-textC),, italic)
    &-dark
        perpetua(18px,  var(--main-text),, italic)
    &-date
        perpetua(20px,  var(--main-textB), bold, italic)
        svg
            display inline
            width 16px
            fill var(--main-textB)
            margin-right 8px
            margin-bottom -2px
        &-xl
            perpetua(28px,  var(--main-textC), bold, italic)
    &-big
        perpetua(22px,  var(--main-textA), bold, italic)
        &-link
            perpetua(22px, var(--link-text), bold, italic)
            position relative
            transition 0.4s all
            center-underline(1px, 5px, 97%)
            &:hover, &:focus
                perpetua(22px, var(--link-text-hover), bold, italic, 0)
    &-link
        perpetua(18px, var(--link-text), bold, italic)
        position relative
        transition 0.4s all
        center-underline(1px, 3px, 97%)
        &:hover, &:focus
            perpetua(20px, var(--link-text-hover), bold, italic, 0)
.image
    position relative
    border 2px solid var(--border-c) 
    overflow hidden
    @media screen and (min-width 1380px)
        display inline
        float right
        margin 0 0 5px 22px
        width w = calc(100vw - 880px)
        height 'calc(%s * (480/920))' % w
        max-width mw = 720px
        max-height 'calc(%s * (480/920))' % mw
    @media screen and (min-width 950px) and (max-width 1379px)
        display block
        margin 0 0 16px 0
        width w = 100%
        height 'calc((100vw - 540px) * (480/920))' % w
    @media screen and (min-width 875px) and (max-width 949px)
        display inline
        float right
        margin 0 0 5px 22px
        width w = calc(100vw - 420px)
        height 'calc(%s * (480/920))' % w
    @media screen and (min-width 425px) and (max-width 874px)
        display block
        margin 0 0 16px 0
        width w = 100%
        height 'calc((100vw - 65px) * (480/920))' % w
    @media screen and (max-width 424px)
        display block
        margin 0 0 16px 0
        width w = 100%
        height 'calc((100vw - 50px) * (480/920))' % w
    &-inner
        position absolute
        max-width 100%
.freeze
    @media screen and (max-width 749px)
        overflow-y hidden
        user-select(none)
.map
    border 2px solid var(--border-c2) 
    margin 16px 0
    width 100%
    height 500px
    filter: var(--map)
.crunch
    &-3
        @media screen and (min-width 425px) and (max-width 460px)
            letter-spacing -3px
    &-2
        @media screen and (min-width 950px) and (max-width 980px)
            minion(38px, var(--alt), bold)
            letter-spacing -2px         
        @media screen and (min-width 425px) and (max-width 510px)
            minion(31px, var(--alt), bold)
            letter-spacing -2px
    &-1
        @media screen and (min-width 950px) and (max-width 980px)
            minion(40px, var(--alt), bold)
            letter-spacing -1px
        @media screen and (min-width 425px) and (max-width 510px)
            minion(35px, var(--alt), bold)
            letter-spacing -2px
.bb-temp
    margin-right 32px
    @media screen and (min-width 950px) and (max-width 1083px)
        margin-right 0
    @media screen and (max-width 749px)
        margin-right 0
    &-inner
        width 100%
        height unset
.news
    display flex
    flex-flow row no-wrap
    @media screen and (min-width 950px) and (max-width 1083px)
        flex-flow column wrap
    @media screen and (max-width 749px)
        flex-flow column wrap